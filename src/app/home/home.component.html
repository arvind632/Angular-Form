<div class="row">
        <div class='col-sm-12' style="text-align: center;">
          <h3 >Train  Reservation </h3>
          <button type="button" data-toggle="modal" data-target="#myModal" class="btn btn-info">Book Seat</button>
        </div>
</div>
<br/>
<div class="container">
  
  <div class="row">
      <div class="col-custom-five" *ngFor="let i of totalSeats">
        <p class='available' *ngIf="(i.status == 'available')">
          {{i.seat}} {{i.status}} 
        </p>
        <p class='booked' *ngIf="(i.status == 'booked')">
          {{i.seat}} {{i.status}} 
        </p>       
      </div>
  </div>



</div>





























<!-- Reservation  Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Available Seat :</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        <form [formGroup]="reservationForm"  (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="usr">Select no of seats:</label>
            <select class="form-control selectSeat"   (change)="addPersion($event)" formControlName="seat" required>
              <option value="">Sealect Seat </option>
              <option *ngFor="let i of seats" value="{{i}}">{{i}}</option>
            </select>
          </div>

          <div class="form-group"   formGroupName="address">
              <h3> Address</h3>
              <label>City</label>
              <input type="text" class="form-control" formControlName="city" >

              <label>Zipcode</label>
              <input type="text" class="form-control" formControlName="zipcode">

          </div>


          <div formArrayName="peoples">
             <h3>Add people</h3>
             <button class="btn btn-sm btn-info" (click)="addpeople()"> + Add People </button>
             

             <div class="form-gropu" *ngFor="i of peoples.controls; let i = index">
                 <label>Add Persion-{{i+1}}</label>
                 <input type="text" class="form-control" [formControlName]="i">
                 <button class="btn btn-sm btn-warning" (click)="removepeople(i)"> - Remove </button>
             </div>

          </div>
          
          <div formArrayName="names">
            <div class="form-group" *ngFor="let i of names.controls; let n = index"> 
              <label for="usr">Enter Persion - {{n+1}} </label> 
              <input type="text" [formControlName]="n" class="form-control">
            </div>

            <div class="form-group">
              <button type="submit"  [disabled]="!reservationForm.valid"  class="btn btn-primary">Submit</button>
            </div>

            <h1>{{ reservationForm.value | json}}</h1>

            

        </div>
        </form> 
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>